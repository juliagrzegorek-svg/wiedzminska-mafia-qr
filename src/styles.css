/* === src/styles.css === */

/* Wiedźmińskie fonty */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:wght@400;600;700&display=swap');

:root{
  --bg: #0b1113;
  --fg: #e8f2ee;
  --muted:#a7b8b3;
  --glass: rgba(8, 20, 22, .65);
  --gold:#d7b46a;
  --gold-2:#a68944;
  --shadow: 0 30px 60px rgba(0,0,0,.45), 0 6px 18px rgba(0,0,0,.35);

  /* poświaty */
  --good-glow: 0 0 0 1px rgba(100,190,230,.35), 0 0 36px rgba(100,190,230,.25);
  --monster-glow: 0 0 0 1px rgba(230,90,90,.35), 0 0 38px rgba(230,90,90,.25);
}

*{ box-sizing:border-box }
html,body,#root{ height:100% }
body{
  margin:0;
  background: radial-gradient(1200px 600px at 50% -20%, #183234 0%, var(--bg) 60%, #070b0c 100%);
  color:var(--fg);
  font-family: "Cormorant Garamond", serif;
}

.app{ min-height:100%; position:relative }

/* ===== START (ekran startowy) ===== */
/* kafelek u góry, QR na dole z rezerwą miejsca */
.start{
  position: relative;
  min-height: 100vh;
  display: grid;
  align-content: start;
  justify-items: center;
  padding: clamp(16px, 2vw, 24px);
  padding-top: clamp(24px, 8vh, 80px);
  padding-bottom: 280px; /* rezerwujemy miejsce na QR, żeby nic nie nachodziło */
  isolation: isolate;
}
.start .form{ position: relative; z-index: 6; }

/* JAŚNIEJSZE TŁO STARTU — plik w public/assets/bg-start.png */
.start::before{
  content:"";
  position: fixed; inset: 0; z-index: -1;
  background:
    radial-gradient(1100px 520px at 50% 10%,
      rgba(255,255,255,.14) 0%,
      rgba(10,16,18,.10) 55%,
      rgba(10,16,18,.28) 100%),
    url("/assets/bg-start.png") center -90px / cover no-repeat;
  filter: brightness(1.32) contrast(1.05) saturate(1.06);
}

/* QR na dole, środek, z bezpiecznym marginesem dla iOS */
.start-qr{
  position: fixed;
  left: 50%;
  bottom: calc(24px + env(safe-area-inset-bottom));
  transform: translateX(-50%);
  text-align: center;
  z-index: 30;
  pointer-events: none;
}
.start-qr img{
  width: 220px; height: 220px;
  display:block; margin:0 auto 6px;
  background: #fff; padding: 8px; border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  pointer-events: auto;
}
.start-qr .small{ display:block; color:#cdd6d8; font-size:.85rem; }

@media (max-width: 520px){
  .start-qr{ bottom: calc(72px + env(safe-area-inset-bottom)); }
  .start{ padding-bottom: 300px; }
}
@media (max-width: 360px){
  .start-qr img{ width:180px; height:180px; }
  .start{ padding-bottom: 260px; }
}

/* formularz na szkle */
.form{
  position:relative;
  z-index:10;
  width:min(680px, 92vw);
  margin:10vh auto 0;
  padding:18px 20px;
  background: rgba(6,18,18,.68);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
input[type="text"]{
  width:100%; padding:10px 12px; border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04); color:var(--fg);
  outline:none; font-size:16px;
}
.gender{ display:flex; align-items:center; gap:14px; color:var(--muted); font-weight:600; }
.btn{
  appearance:none; border:1px solid rgba(255,255,255,.12);
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.15));
  color:var(--fg); padding:9px 14px; border-radius:12px;
  font-weight:700; cursor:pointer; transition:all .2s ease;
  backdrop-filter: blur(2px);
}
.btn:hover{ transform:translateY(-1px); border-color:rgba(255,255,255,.22) }

/* ===== TABLE / BACKGROUND (stół gry) ===== */
.table{ position:relative; min-height:100vh; overflow:hidden; isolation:isolate; }
.table-surface{
  position:fixed; inset:0; z-index:-2; pointer-events:none;
  background:
    radial-gradient(900px 420px at 50% 15%,
      rgba(18,61,61,.45) 0%,
      rgba(11,17,19,.82) 60%,
      rgba(8,12,13,.96) 100%),
    url("/assets/bg-start.png") center/cover no-repeat;
  filter: brightness(1.05) saturate(.95);
  opacity:.60;
}

/* ===== CARDS ===== */
.card{
  position:absolute; top:50%; transform:translate(-50%,-50%) scale(.88);
  left:50%;
  width:min(720px, 92vw);
  height:min(82vh, 820px);
  display:flex; flex-direction:column; border-radius:22px;
  overflow:hidden; border:1px solid rgba(255,255,255,.12); box-shadow: var(--shadow);
  background: linear-gradient(180deg, rgba(2,8,8,.8) 52%, rgba(6,20,20,.9) 100%);
  transition: transform .45s cubic-bezier(.22,.9,.3,1), left .45s, right .45s, bottom .45s;
  z-index:10;
}
.card .media{ flex:1 1 auto; background:#0e1718 }
.card .media img{ width:100%; height:100%; object-fit:contain; }

.card .body{
  padding:14px 16px 16px;
  background:linear-gradient(180deg, rgba(8,24,24,.96) 0%, rgba(4,12,12,.96) 100%);
  border-top:1px solid rgba(255,255,255,.08);
}
.card .body h3{
  margin:2px 0 4px; font-size:26px; line-height:1.12;
  font-family:"Cinzel", serif; letter-spacing:.5px;
}
.card .body .role{ color:var(--muted); margin-bottom:6px; font-weight:600 }
.card .body .meta{ color:#d8e7e3; display:grid; gap:6px; font-size:16px }
.card .body .pretitle{ color:var(--muted); font-weight:700; letter-spacing:.6px; text-transform:uppercase; font-size:13px }
.card .body .action{ margin-top:10px }

/* delikatne złote akcenty */
.ornament{ position:relative; }
.ornament::before, .ornament::after{
  content:""; position:absolute; width:120px; height:16px; left:10%; border-radius:50% 50% 0 0 / 100% 100% 0 0;
  background: radial-gradient(60px 10px at 50% 100%, rgba(0,0,0,.2), transparent),
              linear-gradient(180deg, var(--gold), var(--gold-2));
  filter: blur(.2px) saturate(.9);
  opacity:.55;
}
.ornament::before{ top:-10px; }
.ornament::after{ bottom:-8px; left:auto; right:8%; transform:scale(.9) }

/* poświaty */
.good-glow{ box-shadow: var(--good-glow), var(--shadow) }
.monster-glow{ box-shadow: var(--monster-glow), var(--shadow) }

/* Pozycje */
.at-left{ left:6vw; transform:translateY(-50%) scale(.88) }
.at-center{ left:50%; transform:translate(-50%,-50%) scale(.88) }
.at-right{ right:6vw; left:auto; transform:translateY(-50%) scale(.88) }

/* Karty „odłożone” na stół – mniejsze i OBOK SIEBIE */
.laid-left{
  left:6vw; right:auto; bottom:14px; top:auto;
  transform:translate(0,0) scale(.62) rotate(-2deg);
}
.laid-center{
  left:50%; right:auto; bottom:14px; top:auto;
  transform:translate(-50%,0) scale(.62);
}
.laid-right{
  right:6vw; left:auto; bottom:14px; top:auto;
  transform:translate(0,0) scale(.62) rotate(2deg);
}

/* mobilnie jeszcze ciut mniejsze, dalej obok siebie */
@media (max-width: 480px){
  .centered.zoom{ transform:translate(-50%,-50%) scale(.96); }
  .laid-left{  transform:translate(0,0) scale(.58) rotate(-2deg); }
  .laid-center{transform:translate(-50%,0) scale(.58); }
  .laid-right{ transform:translate(0,0) scale(.58) rotate(2deg); }
}

.centered.zoom{ left:50%!important; right:auto; transform:translate(-50%,-50%) scale(1.0); z-index:9999; }
.focus{ box-shadow: 0 0 0 1px rgba(255,255,255,.12), var(--shadow) }

/* ability coloring */
.card.ability.good .body h3{ color:#e6f7f3 }
.card.ability.monster .body h3{ color:#ffd9d9 }

/* ===== OVERLAY (dym + message) ===== */
.overlay{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background: radial-gradient(1200px 600px at 50% 20%, rgba(0,0,0,.45) 0%, rgba(0,0,0,.85) 60%);
  cursor:pointer; z-index:10010;
}
.smoke{
  position:absolute; inset:0;
  background: url("/assets/smoke.png") center/cover no-repeat;
  opacity:.5; filter: contrast(110%) brightness(105%);
}
.alert{
  position:relative; z-index:2; padding:16px 28px; border-radius:16px; text-align:center;
  font-family:"Cormorant Garamond", serif; font-size:36px; font-weight:700; color:#fff;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.25));
  border:1px solid rgba(255,255,255,.2); box-shadow:var(--shadow);
  text-transform:none;
}
.typewriter{
  position:relative; z-index:2; width:min(1100px, 92vw);
  padding:18px 22px; border-radius:16px; line-height:1.55;
  font-size: clamp(14px, 3.6vw, 22px);  /* mniejszy */
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.25));
  border:1px solid rgba(255,255,255,.2); box-shadow:var(--shadow);
  font-family:"Cormorant Garamond", serif;
}
.typewriter .cursor{
  display:inline-block; width:10px; height:1em; margin-left:4px;
  background:#fff; animation:blink 1s infinite;
}
@keyframes blink{ 0%, 49%{opacity:1} 50%, 100%{opacity:0} }

/* ===== HAMBURGER ===== */
.hamburger{
  position:fixed; top:14px; left:14px; z-index:12000;
  width:42px; height:36px; border-radius:10px; border:1px solid rgba(255,255,255,.15);
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.25));
  display:flex; align-items:center; justify-content:center; gap:4px; cursor:pointer;
}
.hamburger span{ display:block; width:20px; height:2px; background:#fff }
.hamburger span:nth-child(2){ width:16px; opacity:.9 }
.hamburger span:nth-child(3){ width:12px; opacity:.8 }

/* ===== MENU ===== */
.menu-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.7);
  display:flex; align-items:center; justify-content:center; z-index:11000;
}
.menu-box{
  width:min(1040px, 92vw); max-height:min(86vh, 900px); overflow:auto;
  background:linear-gradient(180deg, rgba(10,24,24,.96), rgba(6,14,14,.96));
  border:1px solid rgba(255,255,255,.15); border-radius:18px; padding:16px 18px 18px; box-shadow:var(--shadow);
}
.menu-title{
  font-family:"Cinzel", serif; font-weight:800; letter-spacing:.8px; margin:4px 0 12px; font-size:22px;
}
.menu-grid{
  display:grid; grid-template-columns: repeat(auto-fill, minmax(190px,1fr)); gap:12px;
}
.mini-card{
  background:rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.1);
  border-radius:14px; overflow:hidden; display:flex; flex-direction:column;
}
.mini-media{ height:160px; background:#0e1718 }
.mini-media img{ width:100%; height:100%; object-fit:cover }
.mini-body{ padding:10px 12px; display:grid; gap:4px }
.mini-name{ font-weight:800; font-family:"Cinzel", serif }
.mini-line{ color:#d8e7e3; font-size:14px }
.mini-desc{ color:#cfe3de; font-size:13px; opacity:.95 }
/* ===== WYŁĄCZANIE TŁA W TRYBIE HOSTA ===== */

/* Start: pseudo-element z tapetą */
.start.no-bg::before{
  content: none !important;
}

/* Stół: warstwa z tapetą (dla pewności, choć i tak warunkowo nie renderujemy) */
.app.is-host .table-surface{
  display: none !important;
}
/* --- KARTA ZDOLNOŚCI: pokaż cały tekst --- */
.card.ability .media{
  /* mniej miejsca na obrazek, więcej na opis */
  flex: 0 0 52%;
}
.card.ability .body{
  /* jeśli tekst długi, daj przewijanie w ramce karty */
  overflow: auto;
}
.card .body p{ margin: 0 0 10px; }

/* na telefonie jeszcze więcej miejsca na opis */
@media (max-width: 480px){
  .card.ability .media{ flex: 0 0 46%; }
  .card.ability .body{ max-height: 52vh; }
}
.host { color: #e8e8e8; }
.host .host-header { font-weight: 700; margin-bottom: 10px; }
